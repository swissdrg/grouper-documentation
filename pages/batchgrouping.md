# Batch Grouping

SwissDRG AG provides the "Batchgrouper" as a Java class. It allows to group a batch of patient cases
stored in a file. It writes then the grouping results into another file.

## Batch Grouping SwissDRG patient data ("Akutsomatik")
  
Assuming the jar file containing the JavaGrouper is named `java-grouper-1.10.0-all.jar` and you want
to group SwissDRG patient cases with SwissDRG V6.0, billing version, on the command line type:
  
     java -jar path/to/java-grouper-1.1.0-all.jar \
          -cat path/to/catalog-acute.csv -out ./grouperresults.csv \
          path/to/json-workspace/6.3 path/to/patientinput.csv
       
where...

* `catalog-acute.csv`: DRG catalogue ("Fallpauschalenkatalog) in CSV format  
  (see [Catalogs](/pages/specifications.md#Catalogs))
* `grouperresults.csv`: name of the CSV output file generated by the JavaGrouper
* `json-workspace/6.3`: json [specification](/pages/specifications.md) for SwissDRG V6.0 billing version
* `patientinput.csv`: file of patient cases that you want to group, in Batchgrouper format

The formats of both the patient case file and the grouper result file are described in the 
Grouper-Dokumentation ([DE](https://docs.swissdrg.org/grouper-doku-de.pdf), 
 [FR](https://docs.swissdrg.org/grouper-doku-fr.pdf), [IT](https://docs.swissdrg.org/grouper-doku-it.pdf)).

To see all valid options, run:

     java -jar path/to/java-grouper-1.1.0-all.jar 

## Batch Grouping TARPSY patient data

Assuming again the jar file containing the JavaGrouper is named `java-grouper-1.10.0-all.jar` and 
you want to group TARPSY patient cases with TARPSY V1.0, planning version 2, on the command line type:

      java -cp path/to/java-grouper-1.1.0-all.jar org.swissdrg.grouper.tarpsy.batchgrouper.TarpsyBatchgrouper \
           -cat path/to/tarpsyspecs/t1.2/catalogue.csv -f bfs -out grouperresults.csv \
           path/to/tarpsyspecs/t1.2 path/to/bfs-patientinput.dat

where...
 
* `catalog.csv`: TARPSY "PCG" catalogue in CSV format  
  (see [Catalogs](/pages/specifications.md#Catalogs))
* `-f bfs`: use the BFS format patient case format. Alternatively, you can use the "MB"-Format, 
   see https://docs.swissdrg.org/TARPSY_Vorgaben_Daten_2015_2016_d.pdf or the "batch" format.
* `grouperresults.csv`: name of the CSV output file generated by the JavaGrouper, 
  will contain the grouping results
* `tarpsyspecs/t1.2`: specification for Tarpsy 1.0 planning version 2 
  (see [specifications](/pages/specifications.md)) 
* `bfs-patientinput.csv`: file of TARPSY patient cases, in BFS format (corresponding to option `-f bfs`)

To see all valid options, run:

     java -cp path/to/java-grouper-1.1.0-all.jar org.swissdrg.grouper.tarpsy.batchgrouper.TarpsyBatchgrouper
     
 